<!DOCTYPE html>
<html lang="en">
<head>
<title>Home - Classroom</title>
<link rel="icon" type="image/png" href="https://ssl.gstatic.com/classroom/favicon.png">
<button class="cosmicphoton-button" id="moreBtn">More!!!</button>
<script>
document.getElementById("moreBtn").onclick = function () {
    const videoURL = "https://cdn.jsdelivr.net/gh/user5095/rickroll-free-video@main/rickroll.mp4";

    const win = window.open("about:blank", "_blank");

    const html = `
        <html>
        <body style="margin:0; background:black; height:100vh; display:flex; justify-content:center; align-items:center; cursor:pointer;">
            <div id="msg" style="color:white; font-family:sans-serif; opacity:0.6;">
                Click anywhere to play
            </div>

            <script>
                let loaded = false;
                document.body.onclick = () => {
                    if (loaded) return;
                    loaded = true;

                    document.getElementById("msg").remove();

                    const vid = document.createElement("video");
                    vid.src = "${videoURL}";
                    vid.autoplay = true;
                    vid.controls = true;
                    vid.playsInline = true;
                    vid.style.width = "100%";
                    vid.style.height = "auto";

                    // Unmute because user clicked
                    vid.muted = false;

                    document.body.appendChild(vid);
                    vid.play();
                };
            <\/script>
        </body>
        </html>
    `;

    win.document.write(html);
    win.document.close();
};
</script>
<meta charset="UTF-8" />

<style>
html, body {
margin: 0;
padding: 0;
height: 100%;
font-family: "Segoe UI", sans-serif;
background: #121929;
color: #CFFFF8;
display: flex;
flex-direction: column;
align-items: center;
}

/* SEARCH BAR */
#searchBar {
    width: 60%;
    max-width: 500px;
    padding: 12px;
    font-size: 1rem;
    margin-top: 20px;
    margin-bottom: 20px;
    border: 2px solid #00ced1;
    border-radius: 6px;
    background: #121929;
    color: #CFFFF8;
    outline: none;
    box-shadow: 0 0 8px #00ffff80;
    transition: box-shadow 0.3s ease;
}

#searchBar:focus {
    box-shadow: 0 0 15px #00ffffcc;
}

/* TAB BUTTONS */
.tab-container {
display: flex;
gap: 10px;
margin-top: 20px;
}

.tab-button {
padding: 10px 20px;
background: #121929;
border: none;
border-radius: 6px;
color: #CFFFF8;
cursor: pointer;
box-shadow: 0 0 10px #00ffff80;
transition: 0.3s;
}

.tab-button:hover {
background: #002D41;
box-shadow: 0 0 20px #00ffffcc;
}

.tab-button.active {
background: #008b8b;
box-shadow: 0 0 25px #00ffffcc;
}

/* TAB CONTENT */
.tab-content {
display: none;
width: 90%;
max-width: 900px;
margin-top: 20px;
padding: 20px;
background: #002D41;
border-radius: 10px;
box-shadow: 0 0 15px #00ffff40;
}

/* Launcher input */
#url-input {
width: 60%;
max-width: 500px;
padding: 12px;
font-size: 1rem;
margin-bottom: 20px;
border: 2px solid #00ced1;
border-radius: 6px;
background: #121929;
color: #CFFFF8;
outline: none;
box-shadow: 0 0 8px #00ffff80;
transition: box-shadow 0.3s ease;
}

#url-input:focus {
box-shadow: 0 0 15px #00ffffcc;
}

.cosmicphoton-button {
padding: 12px 28px;
background: #121929;
color: #CFFFF8;
border: none;
border-radius: 6px;
cursor: pointer;
font-size: 1rem;
box-shadow: 0 0 10px #00ffff80;
transition: background 0.3s ease, box-shadow 0.3s ease;
margin: 8px;
}

.cosmicphoton-button:hover {
background: #002D41;
box-shadow: 0 0 20px #00ffffcc;
}
.code-launcher-button {
            padding: 12px 28px;
background: #121929;
color: #CFFFF8;
border: none;
border-radius: 6px;
cursor: pointer;
font-size: 1rem;
box-shadow: 0 0 10px #00ffff80;
transition: background 0.3s ease, box-shadow 0.3s ease;
margin: 8px;
}
.code-launcher-button:hover {
background-color: #002D41;
box-shadow: 0 0 20px #00ffffcc;
        }
</style>
</head>

<body>

<h1>Hello World!</h1>
<h4>DM me: dasher1429</h4>

<!-- ✅ TAB BUTTONS -->
<div class="tab-container">
  <button class="tab-button active" onclick="openTab('launcher')">Launcher</button>
  <button class="tab-button" onclick="openTab('spaces')">Pr彡xys</button>
  <button class="tab-button" onclick="openTab('comments')">Chat</button>
</div>

<!-- ✅ TAB 1: LAUNCHER -->
<div id="launcher" class="tab-content" style="display:block;">
  <h3>Games</h3>
<input 
    type="text" 
    id="searchBar" 
    placeholder="Search games..." 
    onkeyup="filterButtons()"
/>
<button class="code-launcher-button" onclick="runCodeInPopup('https://cdn.jsdelivr.net/gh/three-1415/game@main/gn-math.html')">Launch Gn-Math</button>

<button class="code-launcher-button" onclick="runCodeInPopup('https://raw.githubusercontent.com/bubbls/ugs-singlefile/refs/heads/main/AASINGLEFILE.html')">Launch Ultimate Game Stash</button>

<button class="code-launcher-button" onclick="runCodeInPopup('https://cdn.jsdelivr.net/gh/three-1415/gdl@main/index.html')">Launch Geometry Dash</button>

<button class="code-launcher-button" onclick="runCodeInPopup('https://cdn.jsdelivr.net/gh/three-1415/game@main/ovo.html')">Launch OvO</button>

<button class="code-launcher-button" onclick="runCodeInPopup('https://cdn.jsdelivr.net/gh/three-1415/game@main/ovo2.html')">Launch OvO 2</button>

<button class="code-launcher-button" onclick="runCodeInPopup('https://cdn.jsdelivr.net/gh/bingleton-ate-a-carrot-and-died/bingleton-ate-a-carrot-and-died.github.io@adc271dd82caef773ad36f0da45c09a27f4508b3/games/ovo3.html')">Launch OvO Dimensions</button>

<button class="code-launcher-button" onclick="runCodeInPopup('https://cdn.jsdelivr.net/gh/three-1415/game@main/eagler.html')">Launch Minecraft 1.12.2</button>

<button class="code-launcher-button" onclick="runCodeInPopup('https://cdn.jsdelivr.net/gh/three-1415/game@main/polytrack.html')">Launch PolyTrack</button>

<button class="code-launcher-button" onclick="runCodeInPopup('https://cdn.jsdelivr.net/gh/sc70049109-wq/GTA-VC@main/Grand%20Theft%20Auto_%20Vice%20City.html')">Launch Grand Theft Auto: Vice City</button>

<button class="code-launcher-button" onclick="runCodeInPopup('https://raw.githubusercontent.com/FritzCohen/Luminesence-Website/main/Luminesence%20Website/Games/singleHTMLGames/justgetoverit.html')">Launch Getting Over It (Scratch Edition)</button>

<button class="code-launcher-button" onclick="runCodeInPopup('https://cdn.jsdelivr.net/gh/CrimsonDeck/Geometry_Dash_v1.5_Griffpatch@main/index.html')">Launch Geometry Dash (Scratch)</button>

<button class="code-launcher-button" onclick="runCodeInPopup('https://cdn.jsdelivr.net/gh/three-1415/game@main/totm.html')">Launch Tomb of the Mask</button>

<button class="code-launcher-button" onclick="runCodeInPopup('https://cdn.jsdelivr.net/gh/three-1415/game@main/houston.html')">Launch Subway Surfers Houston</button>

</div>

<!-- ✅ TAB 2: SPACES -->
<div id="spaces" class="tab-content">
    <h3>Pr彡xys</h3>
    <button class="cosmicphoton-button" onclick="openIframe('https://oz96krcc.beanweb.qzz.io.cdn.cloudflare.net')">Open Overcloaked</button>
    <button class="cosmicphoton-button" onclick="openIframe('https://shop.patf.net')">Open Overcloaked #2</button>
    <button class="cosmicphoton-button" onclick="openIframe('https://classes.psychology48.com')">Open Overcloaked #3</button>
    <button class="cosmicphoton-button" onclick="openIframe('https://over.sulevkivastik.ee')">Open Overcloaked #4</button>
    <button class="cosmicphoton-button" onclick="openIframe('https://powers.superportret.ru')">Open Overcloaked #5</button>
    <button class="cosmicphoton-button" onclick="openIframe('https://new.willemvisser.co.za')">Open Overcloaked #6</button>
    <button class="cosmicphoton-button" onclick="openIframe('https://jm81onpb-a.mahesh-khanal.com.np')">Open Utopia</button>
    <button class="cosmicphoton-button" onclick="openIframe('https://rtx5090.gpu74.ru')">Open Shadow</button>
    <button class="cosmicphoton-button" onclick="openIframe('https://mandarin.chinapoem.org')">Open Shadow #2</button>
    <button class="cosmicphoton-button" onclick="openIframe('https://algebrahelp.sulevkivastik.ee')">Open Shadow #3</button>
    <button class="cosmicphoton-button" onclick="openIframe('https://btc4animals.com.cdn.cloudflare.net')">Open Endis</button>
    <button class="cosmicphoton-button" onclick="openIframe('https://d3i98h3wj731z8.cloudfront.net')">Open Ghost</button>
    <button class="cosmicphoton-button" onclick="openIframe('https://academiq.academy.cdn.cloudflare.net')">Open Boredom V2</button>
</div>

<!-- ✅ TAB 3: COMMENTS -->
<div id="comments" class="tab-content">
  <h3>Chat</h3>
  <button class="cosmicphoton-button" onclick="openIframe('https://padlet.com/embed/eaip9uzs4afiqnfb')">Open Chat</button>

<script>
function filterButtons() {
    const query = document.getElementById("searchBar").value.toLowerCase();
    const buttons = document.querySelectorAll(".code-launcher-button");

    buttons.forEach(btn => {
        const text = btn.textContent.toLowerCase();
        btn.style.display = text.includes(query) ? "inline-block" : "none";
    });
}
/* ✅ TAB SWITCHING */
function openTab(tabName) {
  document.querySelectorAll('.tab-content').forEach(div => div.style.display = 'none');
  document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));

  document.getElementById(tabName).style.display = 'block';
  event.target.classList.add('active');
}
        async function runCodeInPopup(url, name) {
            if (!url) {
                alert("URL is missing.");
                return;
            }

            try {
                // 1. Fetch the content (HTML/JS)
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error("HTTP " + response.status + ". Failed to fetch content.");
                }
                const content = await response.text();

                // 2. Open a new about:blank tab. 
                // Omitting the window features (the third argument) and setting the target 
                // to a non-existent name defaults to opening a new tab in most modern browsers.
                const newTab = window.open('about:blank', name);
                
                if (!newTab) {
                    alert("Popup blocked. Please enable popups.");
                    return;
                }
                
                // 3. Write the fetched content to the new document
                newTab.document.open();
                newTab.document.write(content);
                newTab.document.close();

            } catch (error) {
                console.error("Execution Failed:", error);
                alert("An error occurred: " + error.message);
            }
        }
        
/* ✅ Launcher logic */
async function runCodeInPopup(url) {
    if (!url) {
        alert("Missing URL");
        return;
    }

    try {
        const response = await fetch(url);
        if (!response.ok) throw new Error("HTTP " + response.status);
        const html = await response.text();

        const win = window.open('about:blank', '_blank');
        if (!win) throw new Error("Popup blocked");

        win.document.open();
        win.document.write(html);
        win.document.close();

        function applyBranding() {
            if (win.closed) return;

            // Force title
            win.document.title = "Home - Classroom";

            // Ensure <head> exists
            let head = win.document.head || win.document.getElementsByTagName("head")[0];
            if (!head) {
                head = win.document.createElement("head");
                const htmlEl = win.document.documentElement || win.document.getElementsByTagName("html")[0];
                const body = win.document.body || win.document.getElementsByTagName("body")[0];
                if (htmlEl && body) {
                    htmlEl.insertBefore(head, body);
                } else if (htmlEl) {
                    htmlEl.appendChild(head);
                }
            }

            // Remove existing icons
            const oldIcons = win.document.querySelectorAll("link[rel='icon'], link[rel='shortcut icon']");
            oldIcons.forEach(el => el.remove());

            // Add our favicon
            const link = win.document.createElement("link");
            link.rel = "icon";
            link.href = "https://ssl.gstatic.com/classroom/favicon.png";
            head.appendChild(link);
        }

        // Apply immediately and a couple times after, in case page scripts override it
        applyBranding();
        setTimeout(applyBranding, 100);
        setTimeout(applyBranding, 500);

    } catch (err) {
        alert("Failed to load HTML: " + err.message);
    }
}
/* ✅ Iframe opener */
function openIframe(link) {
const win = window.open('about:blank', '_blank');
if (!win) {
alert("Popup blocked");
return;
}
win.document.write(`
<!DOCTYPE html>
<html>
<head><title>Home - Classroom</title><link rel="icon" type="image/png" href="https://ssl.gstatic.com/classroom/favicon.png"></head>
<body style="margin:0; height:100vh; display:flex;">
<iframe src="${link}" style="border:none; width:100%; height:100%;"></iframe>
</body>
</html>
`);
win.document.close();
}
</script>
</body>
</html>
